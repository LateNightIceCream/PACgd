<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <meta test> <title>Basics - A Point and Click system for the Godot Engine</title> <link rel="shortcut icon" href="/PACgd/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/PACgd/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/PACgd/assets/css/docs.css"> <script type="text/javascript" src="/PACgd/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/PACgd/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/PACgd/" class="site-title lh-tight"> PACgd </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/PACgd/docs/quickstart/quickstart/" class="nav-list-link">QuickStart</a><ul class="nav-list "><li class="nav-list-item active"><a href="/PACgd/docs/quickstart/basics/" class="nav-list-link active">Basics</a></li><li class="nav-list-item "><a href="/PACgd/docs/quickstart/cutscenes/" class="nav-list-link">Cutscenes</a></li><li class="nav-list-item "><a href="/PACgd/docs/quickstart/complex_interactions/" class="nav-list-link">Complex Interaction</a></li></ul></li><li class="nav-list-item"><a href="/PACgd/docs/interactive/" class="nav-list-link">Interactive Objects</a></li><li class="nav-list-item"><a href="/PACgd/docs/characters/" class="nav-list-link">Characters</a></li><li class="nav-list-item"><a href="/PACgd/docs/actions/" class="nav-list-link">Actions</a></li><li class="nav-list-item"><a href="/PACgd/docs/cutscenes/" class="nav-list-link">Cutscenes</a></li><li class="nav-list-item"><a href="/PACgd/docs/pointclick/" class="nav-list-link">PointClick Object</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PACgd" aria-label="Search PACgd" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/PACgd">QuickStart</a></li> <li class="breadcrumb-nav-list-item"><span>Basics</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="quickstart---basics"> <a href="#quickstart---basics" class="anchor-heading" aria-labelledby="quickstart---basics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> QuickStart - Basics </h1> <p>In this quickstart tutorial we will show you how to download, import, and interact with a Godot project that includes the PACgd plugin. The project contains a minimum example composed of one pre-made character with 2 boxes to interact with. The goal of the player is to stack the <strong>Red Box</strong> in top of the <strong>White Box</strong>.</p> <h2 class="fs-6 fw-300 no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#download-godot" id="markdown-toc-download-godot">Download Godot</a></li> <li><a href="#import-pacgd-quickstart-project" id="markdown-toc-import-pacgd-quickstart-project">Import PACgd Quickstart Project</a></li> <li><a href="#understanding-the-scene" id="markdown-toc-understanding-the-scene">Understanding the Scene</a> <ol> <li><a href="#the-objects" id="markdown-toc-the-objects">The Objects</a></li> <li><a href="#the-code" id="markdown-toc-the-code">The Code</a> <ol> <li><a href="#level" id="markdown-toc-level">Level</a></li> <li><a href="#cole" id="markdown-toc-cole">Cole</a></li> <li><a href="#floor" id="markdown-toc-floor">Floor</a></li> <li><a href="#red-box" id="markdown-toc-red-box">Red Box</a></li> <li><a href="#white-box" id="markdown-toc-white-box">White Box</a></li> </ol> </li> </ol> </li> </ol><hr /> <h2 id="download-godot"> <a href="#download-godot" class="anchor-heading" aria-labelledby="download-godot"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Download Godot </h2> <p>If you didn’t yet, download Godot from their <a href="https://godotengine.org/download/">official website</a>. If you have never used Godot before you might be interested in taking a quick look at their step-by-step <a href="https://docs.godotengine.org/en/stable/getting_started/step_by_step/your_first_game.html">getting started tutorial</a></p> <h2 id="import-pacgd-quickstart-project"> <a href="#import-pacgd-quickstart-project" class="anchor-heading" aria-labelledby="import-pacgd-quickstart-project"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Import PACgd Quickstart Project </h2> <p>Download the PACgd <a href="https://github.com/gagdiez/PACgd/archive/main.zip">quickstart project</a> and extract its content into a folder in your computer. Then, import the project in Godot as shown in the following image.</p> <p><img src="/PACgd/docs/quickstart/images/import.png" alt="import view" /></p> <h2 id="understanding-the-scene"> <a href="#understanding-the-scene" class="anchor-heading" aria-labelledby="understanding-the-scene"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Understanding the Scene </h2> <p>Once the project is imported, Godot will open and you should see a scene with a character (named <strong>Cole</strong>) and two boxes: the <strong>Red Box</strong> and the <strong>White Box</strong>.</p> <p><img src="/PACgd/docs/quickstart/images/scene.png" alt="scene" /></p> <p>Before we dig into the scene and its components, play the game! Press <strong>F5</strong> or the play button on the top-right corner. Take the <strong>Red box</strong>, and use it on the <strong>White one</strong> so <strong>Cole</strong> piles them.</p> <h3 id="the-objects"> <a href="#the-objects" class="anchor-heading" aria-labelledby="the-objects"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Objects </h3> <p>Lets look at the objects that compose the scene, don’t worry if you don’t understand everything now, we will look at them in detail later.</p> <p><img src="/PACgd/docs/quickstart/images/objects.png" alt="objects in scene" /></p> <ul> <li><strong>Level</strong>: The level is a <code class="language-plaintext highlighter-rouge">Spatial</code> Godot <code class="language-plaintext highlighter-rouge">Node</code>. It represents the 3D scene itself, and it is the parent of all the objects you see in the screen. <ul> <li><strong>Camera</strong>: The <code class="language-plaintext highlighter-rouge">Camera</code> node, through which the players will see our game</li> <li><strong>Cole</strong>: Cole is a pre-made <code class="language-plaintext highlighter-rouge">Character</code>, it is capable to walk around and do all the basic interactions a point and click game needs, i.e. “take”, “talk to”, “use item”. This is the character we will control in our game.</li> <li><strong>Floor</strong>: An <code class="language-plaintext highlighter-rouge">StaticObject</code> with a <code class="language-plaintext highlighter-rouge">CollisionShape</code> representing the floor. In simpler terms, a static rectangle that can detect collisions.</li> <li><strong>Navigation</strong>: A <code class="language-plaintext highlighter-rouge">Navigation</code> object is a very useful object in Godot, which takes care of computing paths between points in a surface. In our case, it computes how to walk from one point to another in the <strong>Floor</strong>. It has a <code class="language-plaintext highlighter-rouge">NavigationMeshInstance</code> child, which is used denote the navigable area.</li> <li><strong>PointClick</strong>: Our <code class="language-plaintext highlighter-rouge">Point and Click</code> interface and its logic necessary to create games.</li> <li><strong>Red Box</strong>: A simple <code class="language-plaintext highlighter-rouge">StaticObject</code> with a <code class="language-plaintext highlighter-rouge">CollisionShape</code> representing a red box. This is the box <strong>Cole</strong> has to put on top of the <strong>White Box</strong>.</li> <li><strong>White Box</strong>: A simple <code class="language-plaintext highlighter-rouge">StaticObject</code> with a <code class="language-plaintext highlighter-rouge">CollisionShape</code> representing a white box. The <strong>Red Box</strong> has to be piled on top of it.</li> </ul> </li> </ul> <h3 id="the-code"> <a href="#the-code" class="anchor-heading" aria-labelledby="the-code"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Code </h3> <p>You can access the code of each object by clicking at their <img src="https://raw.githubusercontent.com/godotengine/godot/master/editor/icons/Script.svg" alt="" /> icon. While we will discuss all the code now, the most important scripts are those of the <strong>Red Box</strong> and <strong>White Box</strong>.</p> <h4 id="level"> <a href="#level" class="anchor-heading" aria-labelledby="level"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Level </h4> <p>In our top Node <code class="language-plaintext highlighter-rouge">Level</code>, we start by setting two properties of our <code class="language-plaintext highlighter-rouge">Character</code> <strong>Cole</strong>: <code class="language-plaintext highlighter-rouge">navigation</code> and <code class="language-plaintext highlighter-rouge">camera</code>. The <code class="language-plaintext highlighter-rouge">navigation</code> node will guide <strong>Cole</strong> when walking around the scene, while knowing the <code class="language-plaintext highlighter-rouge">camera</code>’s position will help him know in which direction to look while walking.</p> <p>After, we call the <code class="language-plaintext highlighter-rouge">init</code> function from our <code class="language-plaintext highlighter-rouge">Point and Click</code> system <strong>PointClick</strong>. The function <code class="language-plaintext highlighter-rouge">init</code> takes two properties, in this tutorial we will only use the first one, which tells our <code class="language-plaintext highlighter-rouge">Point and Click</code> system which character the user controls. We will discuss the second parameter in the next tutorials.</p> <h4 id="cole"> <a href="#cole" class="anchor-heading" aria-labelledby="cole"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cole </h4> <p>Cole’s script has only one line of code: <code class="language-plaintext highlighter-rouge">extends Character</code>, making it a object of type <code class="language-plaintext highlighter-rouge">Character</code>. A <code class="language-plaintext highlighter-rouge">Character</code> is basically a queue of instructions waiting to be filled and executed sequentially. In order to populate the queue, we use the <code class="language-plaintext highlighter-rouge">Character</code> methods. We will see how in just a minute.</p> <h4 id="floor"> <a href="#floor" class="anchor-heading" aria-labelledby="floor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Floor </h4> <p>The script of the Floor is just one line: <code class="language-plaintext highlighter-rouge">extends Floor</code>, making our object of type <code class="language-plaintext highlighter-rouge">Floor</code>. If we click on the <code class="language-plaintext highlighter-rouge">Floor</code>, <strong>Cole</strong> will ask the <code class="language-plaintext highlighter-rouge">Navigation</code> for a path to go to the clicked place and walk there. All this happens automatically, so no needs to worry about it. In order for the floor to work correctly, it has to be covered by the <code class="language-plaintext highlighter-rouge">Navigation</code> object and its <code class="language-plaintext highlighter-rouge">NavigationMeshInstance</code>. In this tutorial we have already setted this up for you.</p> <h4 id="red-box"> <a href="#red-box" class="anchor-heading" aria-labelledby="red-box"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Red Box </h4> <p>Most of the relevant code for this example is in the boxes. This is because in PACgd the <code class="language-plaintext highlighter-rouge">Objects</code> are the ones giving instructions to the <code class="language-plaintext highlighter-rouge">Characters</code>. If you click on an <code class="language-plaintext highlighter-rouge">Interactive</code> object, the object will call different methods in the <code class="language-plaintext highlighter-rouge">Character</code> to instruct they on how to behave. Lets see the code within the <strong>Red Box</strong>:</p> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">extends</span> <span class="n">Interactive</span>

<span class="k">func</span> <span class="nf">_ready</span><span class="p">():</span>
	<span class="c1"># We can take this object</span>
	<span class="n">main_action</span> <span class="o">=</span> <span class="n">ACTIONS</span><span class="o">.</span><span class="n">take</span>
	
	<span class="c1"># The secondary_action is (implicitly) ACTIONS.examine</span>

	<span class="c1"># We have to stand a couple of pixels away from it to interact</span>
	<span class="n">interaction_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">origin</span> <span class="o">+</span> <span class="kt">Vector3</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

	<span class="c1"># Description and Thumbnail</span>
	<span class="n">description</span> <span class="o">=</span> <span class="s2">"The box I have to move"</span>
	<span class="n">thumbnail</span> <span class="o">=</span> <span class="s2">"res://thumbnails/red_box.png"</span>

<span class="k">func</span> <span class="nf">take</span><span class="p">(</span><span class="n">who</span><span class="p">):</span>
  <span class="c1"># Called when the box is clicked</span>
	<span class="n">who</span><span class="o">.</span><span class="n">approach</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">animate_until_finished</span><span class="p">(</span><span class="s2">"raise_hand"</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">call_function_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">"grab"</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">add_to_inventory</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">animate_until_finished</span><span class="p">(</span><span class="s2">"lower_hand"</span><span class="p">)</span>

<span class="k">func</span> <span class="nf">grab</span><span class="p">():</span>
	<span class="n">visible</span> <span class="o">=</span> <span class="bp">false</span>
	<span class="n">interactive</span> <span class="o">=</span> <span class="bp">false</span>
</code></pre></div></div> <p>In the first line we state that this object is <code class="language-plaintext highlighter-rouge">Interactive</code>. <code class="language-plaintext highlighter-rouge">Interactive</code> objects have six main properties: <code class="language-plaintext highlighter-rouge">main_action</code>, <code class="language-plaintext highlighter-rouge">secondary_action</code>, <code class="language-plaintext highlighter-rouge">interaction_position</code>, <code class="language-plaintext highlighter-rouge">description</code>, <code class="language-plaintext highlighter-rouge">thumbnail</code> and <code class="language-plaintext highlighter-rouge">interactive</code>. These properties determine:</p> <ul> <li><code class="language-plaintext highlighter-rouge">main_action</code>, <code class="language-plaintext highlighter-rouge">secondary_action</code>: What happens when the player clicks on the object using the primary or secondary click (left and right mouse buttons by default). The default primary and secondary actions are <code class="language-plaintext highlighter-rouge">ACTIONS.walk_to</code> and <code class="language-plaintext highlighter-rouge">ACTIONS.examine</code>.</li> <li><code class="language-plaintext highlighter-rouge">interaction_position</code>: Where we want the <code class="language-plaintext highlighter-rouge">Characters</code> to stand when interacting with the object.</li> <li><code class="language-plaintext highlighter-rouge">description</code>: The description of the object when it is examined.</li> <li><code class="language-plaintext highlighter-rouge">thumbnail</code>: The thumbnail to use in the inventory after the object is grabbed.</li> <li><code class="language-plaintext highlighter-rouge">interactive</code>: A flag that determines if the Point and Click system can interact with the object.</li> </ul> <p>Then, in the function <code class="language-plaintext highlighter-rouge">_ready</code> (executed by Godot when the object is rendered), we:</p> <ol> <li>Set that the <code class="language-plaintext highlighter-rouge">main_action</code> is <code class="language-plaintext highlighter-rouge">ACTIONS.take</code>. This indicates that, when the player clicks on it, <strong>Cole</strong> has to walk towards it, and grab it.</li> <li>Set its <code class="language-plaintext highlighter-rouge">interaction_position</code> to 3 units to its left, so <strong>Cole</strong> stands next to it before taking it.</li> <li>Give it a <code class="language-plaintext highlighter-rouge">description</code> so the player can examine it with the secondary click.</li> <li>Set its <code class="language-plaintext highlighter-rouge">thumbnail</code>, to be shown when the box is in the inventory.</li> </ol> <p>Since the <code class="language-plaintext highlighter-rouge">main_action</code> is <code class="language-plaintext highlighter-rouge">ACTIONS.take</code>, when clicked, the object will call its method <code class="language-plaintext highlighter-rouge">take(who)</code>. The method <code class="language-plaintext highlighter-rouge">take</code> in the <strong>Red Box</strong> calls a series of methods in <strong>Cole</strong> (<code class="language-plaintext highlighter-rouge">who</code>). Each method adds instructions to the queue of <strong>Cole</strong>, and him processes them one at the time in sequencial order. Lets see the methods called, and what they mean:</p> <ul> <li><code class="language-plaintext highlighter-rouge">who.approach(self)</code>: Approach <code class="language-plaintext highlighter-rouge">self</code>, this is, approach the <strong>Red Box</strong></li> <li><code class="language-plaintext highlighter-rouge">who.animate_until_finished("raise_hand")</code>: After arriving, <strong>Cole</strong> will raise his hand to take the object</li> <li><code class="language-plaintext highlighter-rouge">who.call_function_from(self, "grab")</code>: queues the instruction of calling the method <code class="language-plaintext highlighter-rouge">grab()</code> in <code class="language-plaintext highlighter-rouge">self</code> (the <strong>Red Box</strong>). <code class="language-plaintext highlighter-rouge">Red Box.grab()</code> will render the box invisible, and not interactive.</li> <li><code class="language-plaintext highlighter-rouge">who.add_to_inventory(self)</code>: Adds the item to <strong>Cole’s</strong> <code class="language-plaintext highlighter-rouge">Inventory</code></li> <li><code class="language-plaintext highlighter-rouge">who.animate_until_finished("lower_hand")</code>: <strong>Cole</strong> lowers his hand</li> </ul> <p>In this way, the <strong>Red Box</strong> instructs <strong>Cole</strong> on the steps to follow in order to take it.</p> <h4 id="white-box"> <a href="#white-box" class="anchor-heading" aria-labelledby="white-box"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> White Box </h4> <p>Finally, we have the code in the <strong>White box</strong>:</p> <div class="language-gd highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">extends</span> <span class="n">Interactive</span>

<span class="k">func</span> <span class="nf">_ready</span><span class="p">():</span>
	<span class="c1"># The main_action is (implicitly) "walk_to"</span>
	<span class="c1"># The secondary_action is (implicitly) ACTIONS.examine</span>
	
	<span class="c1"># We have to stand a couple of pixels away from it to interact</span>
	<span class="n">interaction_position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">origin</span> <span class="o">-</span> <span class="kt">Vector3</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	
	<span class="c1"># Description</span>
	<span class="n">description</span> <span class="o">=</span> <span class="s2">"The mythical white box!"</span>

<span class="k">func</span> <span class="nf">use_item</span><span class="p">(</span><span class="n">who</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
	<span class="c1"># The WHITE box will interact with the RED one</span>
	<span class="n">who</span><span class="o">.</span><span class="n">approach</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">"Time to place one box on top of the other"</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">animate_until_finished</span><span class="p">(</span><span class="s2">"raise_hand"</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">remove_from_inventory</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">call_function_from</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">"place_red_box"</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">animate_until_finished</span><span class="p">(</span><span class="s2">"lower_hand"</span><span class="p">)</span>
	<span class="n">who</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">"That is it, thank you for playing"</span><span class="p">)</span>

<span class="k">func</span> <span class="nf">place_red_box</span><span class="p">():</span>
	<span class="c1"># Function called by who.queue_interaction_with(self, "place_red_box")</span>
	<span class="k">var</span> <span class="n">red_box</span> <span class="o">=</span> <span class="o">$</span><span class="s2">"../Red Box"</span>
	<span class="n">red_box</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">origin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">origin</span> <span class="o">+</span> <span class="kt">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	<span class="n">red_box</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">true</span>
	
	<span class="c1"># Change its main action, so you cannot "use" it anymore</span>
	<span class="n">red_box</span><span class="o">.</span><span class="n">main_action</span> <span class="o">=</span> <span class="n">ACTIONS</span><span class="o">.</span><span class="n">walk_to</span>
	
	<span class="c1"># The boxes are not interactive anymore</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="bp">false</span>
	<span class="n">red_box</span><span class="o">.</span><span class="n">interactive</span> <span class="o">=</span> <span class="bp">false</span>
</code></pre></div></div> <p>As with the <strong>Red Box</strong>, we extend the class <code class="language-plaintext highlighter-rouge">Interactive</code> and set its properties.</p> <p>The <code class="language-plaintext highlighter-rouge">main_action</code> of the <strong>White Box</strong> is <code class="language-plaintext highlighter-rouge">ACTIONS.walk_to</code>, meaning that when clicked, <strong>Cole</strong> will simply walk towards the box.</p> <p>Since we want to use an <code class="language-plaintext highlighter-rouge">item</code> on the <strong>White box</strong>, we need to define the function <code class="language-plaintext highlighter-rouge">use_item</code>. The function <code class="language-plaintext highlighter-rouge">use_item(who, item)</code> is called when a <code class="language-plaintext highlighter-rouge">Character</code> (<code class="language-plaintext highlighter-rouge">who</code>) uses an <code class="language-plaintext highlighter-rouge">item</code> on the <strong>White Box</strong>. In this quickstart we know that <code class="language-plaintext highlighter-rouge">who</code> is <strong>Cole</strong> since we only have one <code class="language-plaintext highlighter-rouge">Character</code>, and that the <code class="language-plaintext highlighter-rouge">item</code> is the <strong>Red Box</strong>, since we only have one another <code class="language-plaintext highlighter-rouge">Interactive</code> object in the Scene.</p> <p>On each line of <code class="language-plaintext highlighter-rouge">use_item</code> we call methods of the <code class="language-plaintext highlighter-rouge">Character</code> <code class="language-plaintext highlighter-rouge">who</code> in order to populate its queue. In particular we ask <strong>Cole</strong> to:</p> <ul> <li><code class="language-plaintext highlighter-rouge">who.approach(self)</code>: Approach <code class="language-plaintext highlighter-rouge">self</code>, this is, approach the <strong>White Box</strong></li> <li><code class="language-plaintext highlighter-rouge">who.say("Time to place one box on top of the other")</code>: Say something</li> <li><code class="language-plaintext highlighter-rouge">who.animate_until_finished("raise_hand")</code>: Raise his hand</li> <li><code class="language-plaintext highlighter-rouge">who.remove_from_inventory(item)</code>: Remove the <code class="language-plaintext highlighter-rouge">item</code> from inventory, in this case, <code class="language-plaintext highlighter-rouge">item</code> is the <strong>Red Box</strong></li> <li><code class="language-plaintext highlighter-rouge">who.call_function_from(self, "place_red_box")</code>: Call the function <code class="language-plaintext highlighter-rouge">place_red_box</code> from <code class="language-plaintext highlighter-rouge">self</code>. This is, call <code class="language-plaintext highlighter-rouge">White Box.place_red_box()</code>.</li> <li><code class="language-plaintext highlighter-rouge">who.animate_until_finished("lower_hand")</code>: Lower his hand</li> <li><code class="language-plaintext highlighter-rouge">who.say("That is it, thank you for playing")</code>: Say something</li> </ul> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
